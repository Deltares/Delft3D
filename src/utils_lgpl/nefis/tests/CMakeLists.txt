# Include directories that are required as header references
#set(nefis_test ${CMAKE_CURRENT_SOURCE_DIR}/include)
#include_directories(${deltares_common_c_include_path}
#                    ${pthreads_path})
#
## Set include path to have it accessible for other components
#set(public_include_path ${deltares_common_c_include_path})
#
#
#if (UNIX)
#    #name mangling, these functions are generated by the FortranCInterface cmake package and might be system dependent
#    include(FortranCInterface)       
#    FortranCInterface_HEADER("${CMAKE_CURRENT_SOURCE_DIR}/include/FortranCInterface.h" MACRO_NAMESPACE "FC_")
#    #produce a config.h to be included
#    configure_file(${CMAKE_CURRENT_SOURCE_DIR}/config.h.cmake.in ${CMAKE_CURRENT_SOURCE_DIR}/include/config.h)
#    set(configFile "${CMAKE_CURRENT_SOURCE_DIR}/include/config.h")
#    add_definitions(-D_FILE_OFFSET_BITS=64)
#endif(UNIX)

#file(GLOB headers ${CMAKE_CURRENT_SOURCE_DIR}/../packages/nefis/include/*.h)
file(GLOB source ${CMAKE_CURRENT_SOURCE_DIR}/test_00/test_00.c)
set(executable_name test_00)

add_executable(${executable_name} ${source})

target_include_directories(test_00 PRIVATE
    ${CMAKE_CURRENT_SOURCE_DIR}/../packages/nefis/include
)

target_link_libraries(${executable_name} nefis)

#add_library(${library_name} ${source})
#add_library(${library_name} ${source} ${headers})

# Create the folder structure in vfproj
#source_group(TREE ${CMAKE_CURRENT_SOURCE_DIR} FILES ${source})
#source_group(TREE ${CMAKE_CURRENT_SOURCE_DIR} FILES ${source} ${headers})
#set_target_properties (${library_name} PROPERTIES FOLDER utils_lgpl/nefis/packages/nefis)

#Set preprocessor definitions
#target_compile_definitions(${library_name} PRIVATE _LIB;_CRT_SECURE_NO_DEPRECATE)

#include_directories(${nefis})

# Create the folder structure in vfproj
#source_group(TREE ${CMAKE_CURRENT_SOURCE_DIR} FILES ${source})
#set_target_properties (${executable_name} PROPERTIES FOLDER tests/engines_gpl/dflowfm)

configure_visual_studio_user_file(${executable_name})

install (DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/../test_nefis/test_00 DESTINATION test)
#if (WIN32)
#	install (DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/scripts/ DESTINATION test)
#endif()
install(TARGETS ${executable_name} RUNTIME  DESTINATION test)
